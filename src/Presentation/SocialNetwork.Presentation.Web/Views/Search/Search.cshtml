@model SocialNetwork.Presentation.Web.Models.Users.SearchUsersModel

@{
    ViewData["Title"] = "Поиск";
    var prevPage = Model.Page > 1 ? Model.Page - 1 : 1;
    var nextPage = Model.Page + 1;
}

<form method="get" asp-controller="Search" asp-action="Search"
      style="display: flex; justify-content: center; margin-bottom: 30px;">
    <input type="text" name="query" class="form-control" placeholder="Введите имя пользователя"
           style="max-width: 300px; margin-right: 10px;" value="@Model.Query"/>
    <button type="submit" class="btn-primary" style="width: auto; padding: 10px 20px;">Поиск</button>
</form>

@if (Model.Users.Any())
{
    <ul style="list-style: none; padding: 0;">
        @foreach (var user in Model.Users)
        {
            <li style="display: flex; align-items: flex-start; background-color: #fff; border-radius: 8px; padding: 15px; margin-bottom: 15px; box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);">
                <img src="/images/default-avatar.png" alt="Аватар" style="width: 60px; height: 60px; border-radius: 50%; object-fit: cover; margin-right: 20px;" />

                <div>
                    <a href="/@user.Username" style="text-decoration: none; color: #2c2d2e;">
                        <div style="font-weight: bold; font-size: 16px;">@user.Name @user.Surname</div>
                        <div style="color: #888;">@user.Username</div>
                    </a>
                    <div style="margin-top: 8px; color: #777;">
                        Город, улица
                    </div>
                </div>
            </li>
        }
    </ul>
}
else
{
    <p>Пользователи не найдены</p>
}

<div style="margin-top: 20px; display: flex; justify-content: center;">
    <div style="display: flex; justify-content: space-between; align-items: center; width: 130px;">
        @if (Model.Page > 1)
        {
            <a class="btn-primary" style="width: auto; text-decoration: none;" href="/search?page=@prevPage">←</a>
        }
        else
        {
            <span style="width: auto;"></span>
        }

        <span style="font-weight: bold;">@Model.Page</span>

        @if (!(Model.Users.Count < Model.PageSize))
        {
            <a class="btn-primary" style="width: auto; text-decoration: none;" href="/search?page=@nextPage">→</a>
        }
        else
        {
            <span style="width: auto;"></span>
        }
    </div>
</div>